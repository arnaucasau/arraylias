<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Arraylias (arraylias)" href="../apidocs/index.html" /><link rel="prev" title="Arraylias Documentation" href="../index.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.08.19 -->
        <title>Arraylias User Guide - arraylias 0.2.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=82a976d7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/qiskit-sphinx-theme.css?v=fe84956c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/qiskit-ecosystem.css?v=745c5aa7" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
<script src="../_static/js/web-components/top-nav-bar.js"></script>
<script>
  (function () {
    window._analytics = {
      segment_key: 'ffdYLviQze3kzomaINXNk6NwpY9LlXcw',
      coremetrics: false,
      optimizely: false,
      googleAddServices: false,
      fullStory: false,
      autoPageEventSpa: false,
      autoFormEvents: false,
      autoPageView: false
    }

    window.digitalData = {
      page: {
        pageInfo: {
          productTitle: 'IBM Q Experience',
          analytics: {
            category: 'Qiskit.org'
          }
        }
      }
    }
  }());
</script>
<script src="https://cloud.ibm.com/analytics/build/bluemix-analytics.min.js"></script>
<script>
  (function () {
    'use strict'

    if (!window.bluemixAnalytics || !window.digitalData) { return }

    const category = window.digitalData.page.pageInfo.analytics.category
    const productTitle = window.digitalData.page.pageInfo.productTitle
    const routeName = 'documentation'

    window.bluemixAnalytics.pageEvent(category, routeName, {
      navigationType: 'pushState',
      productTitle: productTitle,
      title: document.title
    })

    window.trackCta = (action) => {
      if (!window.bluemixAnalytics || !window.digitalData) { return }

      const category = window.digitalData.page.pageInfo.analytics.category
      const productTitle = window.digitalData.page.pageInfo.productTitle

      window.bluemixAnalytics.trackEvent('CTA Clicked', {
        productTitle,
        category,
        CTA: action
      })
    }

  }());
</script></head>
  <body>
    
    <script>document.body.dataset.theme = "light";</script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
      <defs><style>.cls-1{fill:none;}</style></defs>
      <path d="M28,4H4A2,2,0,0,0,2,6V26a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6A2,2,0,0,0,28,4ZM4,6H20V26H4ZM28,26H22V6h6Z"/>
      <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32" height="32"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
      <defs><style>.cls-1{fill:none;}</style></defs>
      <rect x="4" y="6" width="24" height="2"/>
      <rect x="4" y="24" width="24" height="2"/>
      <rect x="4" y="12" width="24" height="2"/>
      <rect x="4" y="18" width="24" height="2"/>
      <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32" height="32"/>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
         viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><polygon points="22,16 12,26 10.6,24.6 19.2,16 10.6,7.4 12,6 " stroke="currentColor"/>
      <rect id="_x3C_Transparent_Rectangle_x3E_" fill="none" width="32" height="32"/>
    </svg>
  </symbol>
  <symbol id="svg-new-tab" viewBox="0 0 32 32">
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
      <defs>
        <style>
          .cls-1 {
            fill: none;
          }
        </style>
      </defs>
      <path fill="#6929C4" d="M26,28H6a2.0027,2.0027,0,0,1-2-2V6A2.0027,2.0027,0,0,1,6,4H16V6H6V26H26V16h2V26A2.0027,2.0027,0,0,1,26,28Z"/>
      <polygon fill="#6929C4" points="20 2 20 4 26.586 4 18 12.586 19.414 14 28 5.414 28 12 30 12 30 2 20 2"/>
      <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32" height="32"/>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">arraylias 0.2.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-brand">
  <a href="https://www.qiskit.org/ecosystem">
    <div class="sidebar-logo-container">
      <img class="sidebar-logo" src="../_static/images/ecosystem-logo.svg" alt="Qiskit Ecosystem logo"/>
    </div>
  </a>
  
  <span class="sidebar-brand-text">arraylias 0.2.0</span>
</div><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">User Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../apidocs/index.html">API References</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API References</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../stubs/arraylias.Alias.html">Alias</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Alias</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.cache_clear.html">arraylias.Alias.cache_clear</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.infer_libs.html">arraylias.Alias.infer_libs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.register_default.html">arraylias.Alias.register_default</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.register_fallback.html">arraylias.Alias.register_fallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.register_function.html">arraylias.Alias.register_function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.register_module.html">arraylias.Alias.register_module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.register_type.html">arraylias.Alias.register_type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.registered_libs.html">arraylias.Alias.registered_libs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.Alias.registered_types.html">arraylias.Alias.registered_types</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../stubs/arraylias.AliasedModule.html">AliasedModule</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of AliasedModule</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.AliasedModule.cache_clear.html">arraylias.AliasedModule.cache_clear</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../stubs/arraylias.AliasedPath.html">AliasedPath</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of AliasedPath</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../stubs/arraylias.AliasedPath.cache_clear.html">arraylias.AliasedPath.cache_clear</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stubs/arraylias.AliasError.html">arraylias.AliasError</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stubs/arraylias.LibraryError.html">arraylias.LibraryError</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stubs/arraylias.numpy_alias.html">arraylias.numpy_alias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stubs/arraylias.scipy_alias.html">arraylias.scipy_alias</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/schr%C3%B6dinger_equation.html">Solving the Schrodinger equation with either NumPy or JAX using the default NumPy alias</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <span class="target" id="module-arraylias_userguide"><span id="arraylias-userguide"></span></span><section id="arraylias-user-guide">
<h1>Arraylias User Guide<a class="headerlink" href="#arraylias-user-guide" title="Permalink to this heading">#</a></h1>
<p>The main class of the Arraylias package is the <a class="reference internal" href="../stubs/arraylias.Alias.html#arraylias.Alias" title="arraylias.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> class.
This is used to build an aliased module structure for 1 or more
libraries and write generic code that can automatically dispatch to
the appropriate function in one of those libraries based on the type
of the first argument of the called function.</p>
<p>Full library sub-module paths are supported, and libraries can be
extended by registering custom modules, and modules can be extended by
registering custom functions.</p>
<section id="default-numpy-and-scipy-aliases">
<h2>Default NumPy and SciPy Aliases<a class="headerlink" href="#default-numpy-and-scipy-aliases" title="Permalink to this heading">#</a></h2>
<p>The simplest way to use Arraylias is to use the <a class="reference internal" href="../stubs/arraylias.numpy_alias.html#arraylias.numpy_alias" title="arraylias.numpy_alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy_alias()</span></code></a>
and <a class="reference internal" href="../stubs/arraylias.scipy_alias.html#arraylias.scipy_alias" title="arraylias.scipy_alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy_alias()</span></code></a> functions to return a pre-configured
<a class="reference internal" href="../stubs/arraylias.Alias.html#arraylias.Alias" title="arraylias.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> with NumPy module or SciPy module syntax respectively.</p>
<p>If the appropriate Python libraries are installed on the system
this will include pre-registered support for the following libraries
using the NumPy module interface</p>
<ul class="simple">
<li><p><a class="reference external" href="https://numpy.org/">NumPy</a>, extended with the <a class="reference external" href="https://scipy.org/">SciPy</a> linear algebra module.</p></li>
<li><p><a class="reference external" href="https://github.com/google/jax">JAX</a></p></li>
<li><p><a class="reference external" href="https://www.tensorflow.org/">Tensorflow</a></p></li>
</ul>
<p>See the <a class="reference internal" href="#using"><span class="std std-ref">Using an Alias</span></a> section for a guide on using an Alias
in your code.</p>
<p>For extending with support for additional libraries refer to the
<a class="reference internal" href="#building"><span class="std std-ref">Building an Alias</span></a> section.</p>
</section>
<section id="using-an-alias">
<span id="using"></span><h2>Using an Alias<a class="headerlink" href="#using-an-alias" title="Permalink to this heading">#</a></h2>
<p>Given a configured <a class="reference internal" href="../stubs/arraylias.Alias.html#arraylias.Alias" title="arraylias.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> instance, an alias to a given path
is returned using the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.__call__()</span></code> method. This will return an
<a class="reference internal" href="../stubs/arraylias.AliasedPath.html#arraylias.AliasedPath" title="arraylias.AliasedPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedPath</span></code></a> or <a class="reference internal" href="../stubs/arraylias.AliasedModule.html#arraylias.AliasedModule" title="arraylias.AliasedModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedModule</span></code></a> to the specified path.</p>
<section id="automatic-dispatching">
<h3>Automatic dispatching<a class="headerlink" href="#automatic-dispatching" title="Permalink to this heading">#</a></h3>
<p>An <a class="reference internal" href="../stubs/arraylias.AliasedPath.html#arraylias.AliasedPath" title="arraylias.AliasedPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedPath</span></code></a> stores an unresolved path to a function.
Whether this function exists in any libraries is not resolved until
it is called. When called the type of the first argument will be used
to infer the library to dispatch on, and if a function exists for that
path it will be returned and called.</p>
<p>For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Return the default NumPy Alias</span>
<span class="n">alias</span> <span class="o">=</span> <span class="n">numpy_alias</span><span class="p">()</span>
<span class="n">eig</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span><span class="s2">&quot;linalg.eig&quot;</span><span class="p">)</span>
<span class="n">evals</span><span class="p">,</span> <span class="n">evecs</span> <span class="o">=</span> <span class="n">eig</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>If an <a class="reference internal" href="../stubs/arraylias.Alias.html#arraylias.Alias" title="arraylias.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> is called with no arguments this will return an
<a class="reference internal" href="../stubs/arraylias.AliasedModule.html#arraylias.AliasedModule" title="arraylias.AliasedModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedModule</span></code></a> to the base path of the alias. This can be
traversed to submodules or functions using attribute based access such as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">unp</span> <span class="o">=</span> <span class="n">alias</span><span class="p">()</span>  <span class="c1"># Returns AliasedModule to base</span>
<span class="n">evals</span><span class="p">,</span> <span class="n">evecs</span> <span class="o">=</span> <span class="n">unp</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>Aliased paths can also be treated as modules until they are resolved:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">la</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span><span class="s2">&quot;linalg&quot;</span><span class="p">)</span>
<span class="n">evals</span><span class="p">,</span> <span class="n">evecs</span> <span class="o">=</span> <span class="n">la</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="dispatching-to-a-specific-library">
<h3>Dispatching to a specific library<a class="headerlink" href="#dispatching-to-a-specific-library" title="Permalink to this heading">#</a></h3>
<p>Dispatching to a specific library function or module can be done
by specifying a path including the library, or using the <code class="docutils literal notranslate"><span class="pre">like</span></code>
kwarg of the call method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The following are equivalent</span>
<span class="n">tensordot</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span><span class="s2">&quot;tensordot&quot;</span><span class="p">,</span> <span class="n">like</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">)</span>

<span class="n">np</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span><span class="n">like</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">)</span>
<span class="n">tensordot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tensordot</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">like</span></code> kwarg can also be passed a type or object to infer the
library from, for example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tensordot</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span><span class="s2">&quot;tensordot&quot;</span><span class="p">,</span> <span class="n">like</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>When dispatching to a specific library the returned function will be
the actual library function or registered function for that path
instead of an <a class="reference internal" href="../stubs/arraylias.AliasedPath.html#arraylias.AliasedPath" title="arraylias.AliasedPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedPath</span></code></a> instance. Note however that for
modules the return type will be a <a class="reference internal" href="../stubs/arraylias.AliasedModule.html#arraylias.AliasedModule" title="arraylias.AliasedModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedModule</span></code></a> instance
instead of the actual library module. This is to allow access to
custom registered functions and sub-modules in the <a class="reference internal" href="../stubs/arraylias.Alias.html#arraylias.Alias" title="arraylias.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
for that library.</p>
</section>
</section>
<section id="building-an-alias">
<span id="building"></span><h2>Building an Alias<a class="headerlink" href="#building-an-alias" title="Permalink to this heading">#</a></h2>
<section id="registering-types">
<h3>Registering Types<a class="headerlink" href="#registering-types" title="Permalink to this heading">#</a></h3>
<p>Types are registered to a specific library for dispatching using the
<a class="reference internal" href="../stubs/arraylias.Alias.register_type.html#arraylias.Alias.register_type" title="arraylias.Alias.register_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_type()</span></code></a> method. Registering a type a second time
will override the previous library with the new library. Any subclasses
of registered types will also be matched for dispatching if they are not
separately registered.</p>
<p>For example to register NumPy ndarrays:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span><span class="o">.</span><span class="n">register_type</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="s2">&quot;numpy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../stubs/arraylias.Alias.registered_types.html#arraylias.Alias.registered_types" title="arraylias.Alias.registered_types"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.registered_types()</span></code></a> and <a class="reference internal" href="../stubs/arraylias.Alias.registered_libs.html#arraylias.Alias.registered_libs" title="arraylias.Alias.registered_libs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.registered_libs()</span></code></a>
methods can be used to return aa tuple of  all registered types and
libraries respectively.</p>
</section>
<section id="registering-modules">
<h3>Registering Modules<a class="headerlink" href="#registering-modules" title="Permalink to this heading">#</a></h3>
<p>The <a class="reference internal" href="../stubs/arraylias.Alias.register_module.html#arraylias.Alias.register_module" title="arraylias.Alias.register_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_module()</span></code></a> method can be used to register
a module for dispatching aliased functions and modules for a library.
By default modules are registered to the base path of that library if
a custom path is not provided.</p>
<p>For example to register the base NumPy module, which will also allow
path based access to all sub-modules accessible from <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span><span class="o">.</span><span class="n">register_module</span><span class="p">(</span><span class="n">numpy</span><span class="p">,</span> <span class="s2">&quot;numpy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also use this method to modify the default NumPy path, for
example to add SciPy linear algebra functions to the NumPy linear
algebra path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span><span class="o">.</span><span class="n">register_module</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">linalg</span><span class="p">,</span> <span class="s2">&quot;numpy&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;linalg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the default <a class="reference internal" href="../stubs/arraylias.numpy_alias.html#arraylias.numpy_alias" title="arraylias.numpy_alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy_alias()</span></code></a> does not include SciPy functions.
There is a separate <a class="reference internal" href="../stubs/arraylias.scipy_alias.html#arraylias.scipy_alias" title="arraylias.scipy_alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy_alias()</span></code></a> that can be used to initialize a
SciPy alias.</p>
</section>
<section id="registering-functions">
<h3>Registering Functions<a class="headerlink" href="#registering-functions" title="Permalink to this heading">#</a></h3>
<p>Individual functions are registered using the
<a class="reference internal" href="../stubs/arraylias.Alias.register_function.html#arraylias.Alias.register_function" title="arraylias.Alias.register_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_function()</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span><span class="o">.</span><span class="n">register_function</span><span class="p">(</span><span class="n">some_function</span><span class="p">,</span> <span class="n">lib</span><span class="o">=</span><span class="s2">&quot;library&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../stubs/arraylias.Alias.register_function.html#arraylias.Alias.register_function" title="arraylias.Alias.register_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_function()</span></code></a> can also be used as a decorator like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@alias</span><span class="o">.</span><span class="n">register_function</span><span class="p">(</span><span class="n">lib</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>By default the name of the function will be used as its path, a custom
name can be provided by using the <code class="docutils literal notranslate"><span class="pre">path</span></code> kwarg</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@alias</span><span class="o">.</span><span class="n">register_function</span><span class="p">(</span><span class="n">lib</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>Note that a function can be registered to a specific submodule by
including it in the path. These modules do not even need to exist in
the library, they will still be traversable by the alias. Eg</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@alias</span><span class="o">.</span><span class="n">register_function</span><span class="p">(</span><span class="n">lib</span><span class="o">=</span><span class="s2">&quot;numpy&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;objectives.linear.line&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">b</span>

<span class="c1"># Evaluate added function</span>
<span class="n">unp</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span><span class="s2">&quot;numpy&quot;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">unp</span><span class="o">.</span><span class="n">objectives</span><span class="o">.</span><span class="n">linear</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">path</span></code> kwarg is not provided, the name of the function will be
used as the path.</p>
</section>
<section id="registering-fallback-functions">
<h3>Registering Fallback Functions<a class="headerlink" href="#registering-fallback-functions" title="Permalink to this heading">#</a></h3>
<p>The <a class="reference internal" href="../stubs/arraylias.Alias.register_fallback.html#arraylias.Alias.register_fallback" title="arraylias.Alias.register_fallback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_fallback()</span></code></a> can be used to register a fallback
function that will be invoked if a match to a specific function path
cannot be found for the dispatched library. Like <a class="reference internal" href="../stubs/arraylias.Alias.register_function.html#arraylias.Alias.register_function" title="arraylias.Alias.register_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_function()</span></code></a>
it can also be used as a function decorator.</p>
<p>Typically this would be used to implement a generic method for a
custom function that works for all registered libraries, and then
also registering a specialized version of the function for a
specific library using the <a class="reference internal" href="../stubs/arraylias.Alias.register_function.html#arraylias.Alias.register_function" title="arraylias.Alias.register_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_function()</span></code></a> method.</p>
</section>
<section id="registering-default-functions">
<h3>Registering Default Functions<a class="headerlink" href="#registering-default-functions" title="Permalink to this heading">#</a></h3>
<p>The <a class="reference internal" href="../stubs/arraylias.Alias.register_default.html#arraylias.Alias.register_default" title="arraylias.Alias.register_default"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Alias.register_default()</span></code></a> can be used to register a default function
that will be invoked if the type of the first argument of a called
<a class="reference internal" href="../stubs/arraylias.AliasedPath.html#arraylias.AliasedPath" title="arraylias.AliasedPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">AliasedPath</span></code></a> function does not match any registered library
types.</p>
<p>Typically this would be used to register a default implementation
of a function that may take other types than arrays as its first
argument, for example this is used by <a class="reference internal" href="../stubs/arraylias.numpy_alias.html#arraylias.numpy_alias" title="arraylias.numpy_alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy_alias()</span></code></a> to
register <code class="docutils literal notranslate"><span class="pre">numpy.array</span></code> and <code class="docutils literal notranslate"><span class="pre">numpy.asarray</span></code> as default
functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span><span class="o">.</span><span class="n">register_default</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>

<span class="n">unp</span> <span class="o">=</span> <span class="n">alias</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">unp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">SomeCustomClass</span><span class="p">())</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
  <script>
    function userFeedbackClicked(ctaType) {
      document.getElementById('qiskit-analytics-thank-you').style.visibility = 'visible';
      window.trackCta(`Helpful - ${ctaType}`);
    }
  </script>
    <div class="qiskit-analytics-container">
      <div>Was this page helpful?</div>
      <a onclick="userFeedbackClicked('yes')">Yes</a>
      <a onclick="userFeedbackClicked('no')">No</a>
      <div id="qiskit-analytics-thank-you">Thank you!</div>
    </div>
<div class="related-pages">
          <a class="next-page" href="../apidocs/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Arraylias (<code class="xref py py-mod docutils literal notranslate"><span class="pre">arraylias</span></code>)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Qiskit Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2023/12/20</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Arraylias User Guide</a><ul>
<li><a class="reference internal" href="#default-numpy-and-scipy-aliases">Default NumPy and SciPy Aliases</a></li>
<li><a class="reference internal" href="#using-an-alias">Using an Alias</a><ul>
<li><a class="reference internal" href="#automatic-dispatching">Automatic dispatching</a></li>
<li><a class="reference internal" href="#dispatching-to-a-specific-library">Dispatching to a specific library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-an-alias">Building an Alias</a><ul>
<li><a class="reference internal" href="#registering-types">Registering Types</a></li>
<li><a class="reference internal" href="#registering-modules">Registering Modules</a></li>
<li><a class="reference internal" href="#registering-functions">Registering Functions</a></li>
<li><a class="reference internal" href="#registering-fallback-functions">Registering Fallback Functions</a></li>
<li><a class="reference internal" href="#registering-default-functions">Registering Default Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b1f64a84"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/qiskit-sphinx-theme.js?v=4d77b8ca"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    </body>
</html>